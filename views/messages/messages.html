<header>Nachrichten</header>
<div id="topicListWrap">
	<ul id="topicList">
		<li class="topic" id="newmessage">
			<div class="left"><i class="icon-plus-circle" id="plusBtn"></i></div>
			<div class="right" data-i18n="messages.newMessage"></div>
		</li>
		<div id="topicListScroll">
			<li data-ng-repeat="topic in topics" id="{{topic.id}}" class="topic">
				<div class="left">
					<img class="userimg" data-ng-src="{{topic.partner.image}}" alt="Userimage">
				</div>
				<div class="username">
					<strong>{{topic.partner.name}}</strong>
				</div>
				<div class="lastMessage">
					{{shortenMessage(topic.latestMessage.text)}}
				</div>
				<div class="time">{{topic.latestMessage.timestamp}}</div>
				<div class="clear-fix"></div>
			</li>
		</div>
	</ul>
</div>
<div id="topicWrap" data-topicID="{{activeTopic.id}}" class="{{activeTopic.type}}">
	<div id="messageTitle">	
		<h2>{{activeTopic.partner.name}}</h2>
	</div>
	<div id="messageWrap">
		<ul class="scroll-pane" id="messageList">
			<li data-ng-repeat="message in activeTopic.messages" data-messageID="{{message.id}}" class="message" data-ng-class="{me:message.sender.me, other:message.sender.other}">
				<div id="userid" class="user">
					<img class="userimg" data-userID="sender{{message.sender.id}}" alt="Username" data-ng-src="{{message.sender.image}}">
					<span class="username" data-userID="sender{{message.sender.id}}">{{message.sender.name}}</span>
				</div>
				<div class="messageText {{message.type}}" data-ng-class="{{message.type}}">{{message.content}}<img data-ng-show="{{message.type != image}}" data-ng-src=""></div>
				<div class="time">21:00</div>
			</li>
		</ul>	
		<form id="inputWrap">
			<textarea id="messageInput" type="text" data-i18n-attr="messages.sendMessage.text|placeholder"></textarea>
			<button class="btn btn-success" id="sendmessage" data-i18n="messages.sendMessage.send" type="submit"></button>		
		</form>
	</div>
</div>