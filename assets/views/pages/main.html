<div id="newsfeedView-wall" data-scroll data-scroll-window data-custom="distancePercentage < 0.5" data-at-custom="loadMorePosts()" data-custom-once>
	<header id="newsfeedView-wall-header">
<!--
		<button class="btn btn--primary" id="newsfeedView-activatePost" data-ng-if="!postActive && mobile" data-ng-click="togglePost()" data-i18n="wall.createPost"></button>
		<div id="newsfeedView-filter">
			<button id="newsfeedView-filter-title" class="btn btn--border" data-ng-class="{'newsfeedView-filter-title--active': (filterActive || !mobile)}" data-i18n="wall.filter.title" data-ng-click="toggleFilter()"></button>
			<div data-ng-if="filterActive || !mobile">
				<search data-multiple class="hideScroll" data-supplier="filterSearchSupplier" data-search-template="filter" data-input-i18n-attr="wall.filter.placeholder|placeholder" id="newsfeedView-theFilter" data-callback="setTimelineFilter(selected)" data-initial-values="getFiltersByID(filterSelection)" data-base="filter"/>
			</div>
		</div>
-->
	</header>
	<div data-ng-if="postActive || !mobile" class="newsfeedView-post" id="newsfeedView-postForm">
		<div id="newsfeedView-postFormWrap">
			<textarea data-strg-enter="sendPost()" data-ng-model="newPost.text" data-i18n-attr="wall.postit.text|placeholder" id="newsfeedView-shareText" data-ng-disabled="!canSend" id="newsfeedView-shareText"></textarea>
			<search data-multiple class="search--custom search--sideBorder" data-supplier="filterSearchSupplier" data-search-template="filter" data-input-i18n-attr="wall.postit.receiver|placeholder" id="newsfeedView-receivers" data-callback="setPostReaders(selected)" data-initial-values="getFiltersByID(newPost.readers)" data-base="circle" />
			<div id="newsfeedView-sendPost">
				<div class="uploadForm" id="newsfeedView-addImage">
					<span class="uploadForm-button btn btn--input btn--noRadius">
						<i class="fa fa-photo fa-2x" id="newsfeedView-addImageIcon"></i>
						<span>Bilder hinzufügen</span>
					</span>
					<input class="uploadForm-theForm" type="file" multiple data-file="newPost.addImages" data-ng-click="mobilePromptUser($event)">
				</div>
				<div id="newsfeed-newPostImages" data-ng-if="newPost.images.length > 0">
					<div class="newsfeed-newPostImagePreview" data-ng-repeat="image in newPost.images">
						<button class="newsfeed-newPostImageRemove fa fa-times-circle" data-ng-click='newPost.removeImage($index)'></button>
						<img class="newsfeed-newPostImage" alt="{{image.getName()}}" data-ng-src="{{image.getUrl()}}">
						<progress class="newsfeed-newPostImageProgress" value="{{image.getProgress()*100}}" max="100"></progress>
					</div>
				</div>
				<savebutton class="btn--noRadius" id="newsfeedView-submit" data-ng-click="sendPost()" data-state="sendPostState" data-noiniticon data-ng-disabled="!canSend">
					<span data-i18n="wall.postit.send"></span>
				</savebutton>
			</div>
		</div>
	</div>
	<div class="posts" id="newsfeedView-posts">
		<div class="newsfeedView-post" id="newsfeedView-noPosts" data-ng-if="currentTimeline.getPosts().length === 0">
			<h1 class="h1-noMarginTop">Hallo {{user.name}}! Das hier ist dein Newsfeed.</h1>
			<h2>Leider ist er aktuell noch leer. Doch das sollten wir schleunigst ändern!</h2>
			<a href="#" class="btn btn--primary btn--big">Schreibe deinen ersten Post</a>
			<a href="#" class="btn btn--primary btn--big">Finde deine Freunde auf whispeer</a>
			<a whispeer-sref="app.invite" class="btn btn--primary btn--big">Lade deine Freunde ein</a>
		</div>
		<div class="newsfeedView-post" id="newssfeedView-invite" data-ng-if="currentTimeline.getPosts().length > 0">
			<h1 data-i18n="inviteFriends" class="h1-noMarginTop"></h1>
			<!-- todo: use ssn.inviteController here to make buttons work. Problem: it changes the css class... -->
			<div class="clear-fix">
				<!-- Facebook -->
				<button data-ng-click="open('facebook')" target="_blank" class="btn shareButton shareButton--fb newsfeedView-shareButton">
					<i class="fa fa-facebook"></i>
					<span>Facebook</span>
				</button>

				<!-- Twitter -->
				<button data-ng-click="open('twitter')" target="_blank" class="btn shareButton shareButton--tw newsfeedView-shareButton">
					<i class="fa fa-twitter"></i>
					<span>Twitter</span>
				</button>

				<!-- Google+ -->
				<button data-ng-click="open('google')" target="_blank" class="btn shareButton shareButton--gp newsfeedView-shareButton">
					<i class="fa fa-google-plus"></i>
					<span>Google+</span>
				</button>

				<!-- Reddit -->
				<button data-ng-click="open('reddit')" target="_blank" class="btn shareButton shareButton--rd newsfeedView-shareButton">
					<i class="fa fa-reddit"></i>
					<span>Reddit</span>
				</button>

				<a whispeer-sref="app.invite.mail" class="btn btn--primary shareButton newsfeedView-shareButton">
					<i class="fa fa-envelope"></i>
					<span>E-Mail</span>
				</a>

				<a ui-sref="app.invite.link" class="btn btn--primary shareButton newsfeedView-shareButton">
					<i class="fa fa-link"></i>
					<span>Link</span>
				</a>
			</div>
		</div>
		<post data-ng-repeat="post in currentTimeline.getPosts()" data-post="post" id="{{post.id}}" class="newsfeedView-post"></post>
		<div id="newsfeedView-loading" data-ng-show="currentTimeline.loading">
			<i class="saveButton-spinner fa fa-2x fa-fw fa-circle-o-notch fa-spin"></i>
			<p class="large-text" data-i18n="wall.loading"></p>
		</div>
	</div>
</div>
