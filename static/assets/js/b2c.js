!function(){"use strict";function e(){try{return localStorage.setItem("localStorageTest","localStorageTest"),localStorage.removeItem("localStorageTest"),!0}catch(e){return!1}}function t(){var e=document.getElementById("registerFrame-main");e.contentWindow.document.getElementsByTagName("input")[0].focus()}function n(e,t){e.className=e.className.replace(new RegExp("(?:^|\\s)"+t+"(?!\\S)","g"),"")}function o(e,t){e.className+=" "+t}function a(){var e=(new Date).getHours(),t=e>7&&20>e;t!==y&&(t?n(N,"background--night"):o(N,"background--night")),y=t}function i(){if(!h){h=!0;var e=Array.prototype.slice.call(S.attributes).filter(function(e){return 0===e.name.indexOf("data-")}).map(function(e){return{name:e.name.substr(5),value:e.value}});I=document.createElement("iframe"),e.forEach(function(e){I.setAttribute(e.name,e.value)}),S.parentNode.replaceChild(I,S);var t=setInterval(function(){I.contentWindow.postMessage(JSON.stringify({event:"listening",id:1}),"https://www.youtube-nocookie.com"),I.contentWindow||window.clearInterval(t)},250);I.addEventListener("load",function(){window.clearInterval(t)})}}function c(e){var t=window.JSON.stringify({event:"command",func:e});I.contentWindow.postMessage(t,"https://www.youtube-nocookie.com")}function r(){c("playVideo")}function d(){c("pauseVideo")}function l(){b=!0,n(k,"video-overlay--visible"),d()}function s(){b=!1,o(k,"video-overlay--visible"),i(),r()}function u(e){var t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;return(t.top>=0||t.bottom>=0)&&(t.top<=n||t.bottom<=n)&&(t.left>=0||t.right>=0)&&(t.left<=o||t.right<=o)}function m(){var e=document.getElementsByClassName("animation-box")[0];u(e)&&-1===e.className.indexOf("animation-start")&&o(e,"animation-start")}function v(){var e="backToTop--visible",t=document.getElementsByClassName("backToTop")[0];u(N)?-1!==t.className.indexOf(e)&&n(t,e):-1===t.className.indexOf(e)&&o(t,e)}function f(e,t){var n=!1;return function(){var o=this,a=arguments,i=function(){n=!1,e.apply(o,a)};n||setTimeout(i,t)}}function g(){return function(){m(),v()}}try{if("true"===localStorage.getItem("whispeer.session.loggedin")){var w=window.top.location.pathname.split("/")[1];window.top.location="/"+w+"/main"}}catch(E){console.error(E)}var p=document.getElementsByClassName("globalNotificationWrap");e()||o(p,"globalNotificationWrap--visible");var y,h=!1,b=!0,N=document.getElementById("heading");a(),window.setInterval(a,60);var I,L=document.getElementById("video-overlay-open"),B=document.getElementById("video-overlay-close"),k=document.getElementById("video-overlay"),S=document.getElementById("video-overlay-video"),T=Array.prototype.slice.call(document.getElementsByClassName("register--ad"));T.forEach(function(e){e.addEventListener("click",t)}),window.addEventListener("message",function(e){var t=JSON.parse(e.data);"onReady"===t.event&&(b?d():r())},!1),window.setTimeout(function(){i()},1e4),L.addEventListener("click",s),B.addEventListener("click",l),k.addEventListener("click",l);var O=f(g(),50);window.addEventListener?(addEventListener("DOMContentLoaded",O,!1),addEventListener("load",O,!1),addEventListener("scroll",O,!1),addEventListener("resize",O,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",O),attachEvent("onload",O),attachEvent("onscroll",O),attachEvent("onresize",O))}();